<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Artista</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <header>
        <h1>Catálogo Musical</h1>
    </header>

    <div class="container">
        <h2>Editar Artista</h2>
        <form action="/artista/edit/<%= artista.id %>" method="POST">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" value="<%= artista.nome %>" required><br><br>

            <label for="discos">Discos:</label>
            <select id="discos" name="discos" multiple>
                <% discos.forEach(function(disco) { %>
                    <option value="<%= disco.id %>" <%= artista.discos.some(d => d.id === disco.id) ? 'selected' : '' %>><%= disco.titulo %> (<%= disco.anoLancamento %>)</option>
                <% }); %>
            </select><br><br>

            <label for="generos">Gêneros:</label>
            <input type="text" id="generos" name="generos" placeholder="Digite os gêneros separados por vírgula" value="<%= artista.generos ? artista.generos.map(g => g.nome).join(', ') : '' %>"><br><br>

            <button type="submit">Atualizar</button>
        </form>
        <br>
        <a href="/artistas">Voltar para a Lista de Artistas</a>
    </div>
</body>
</html>
